<html>
  <head>
     <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Upload for hieunotes Blog</title>
 
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Trumbowyg/2.27.3/ui/trumbowyg.min.css" integrity="sha512-Fm8kRNVGCBZn0sPmwJbVXlqfJmPC13zRsMElZenX6v721g/H7OukJd8XzDEBRQ2FSATK8xNF9UYvzsCtUpfeJg==" crossorigin="anonymous" referrerpolicy="no-referrer" />

  
   <script src="https://unpkg.com/stein-expedite@0.1.0/dist/index.js"></script>

</head>
  <body>
    
 
    <div class="container my-5">
      
       
        
      <h2 class="text-center">Đăng bài viết mới</h2>
  
     <form
        data-stein-url="https://api.steinhq.com/v1/storages/648a5395d27cdd09f0fba213/web"
        class="my-3"
        id="sheet-form">
       
           <div class="form-group">
          <label for="title-input">ID: </label>
          <input
            id="id-input"
            name="id"
            class="form-control form-control-lg"
          readonly/>
        </div>
    
    
    
        <div class="form-group">
          <label for="title-input">Tiêu đề</label>
          <input
            id="title-input"
            name="title"
            class="form-control form-control-lg"
          required/>
        </div>
        <div class="form-group">
          <label for="link-input">Liên kết</label>
          <input type="url" id="link-input" name="link" class="form-control" list="datalistOptions" required/>
          <datalist id="datalistOptions">
 <option value="https://harrydang.pages.dev">
 <option value="https://hieunotes.vercel.app/">
</datalist>

        </div>
          <div class="form-group">
          <label for="link-input">Ngày</label>
          <input type="date" id="date link-input" name="date" class="form-control" required/>
        </div>
     
        <div class="form-group">
          <label for="content-textarea">Nội dung</label>
          <textarea
            name="content"
            id="content-textarea"
            rows="5"
            class="form-control"
        ></textarea>
        </div>
        
        <button type="submit" class="mt-2 btn btn-success" id="submit">
          Gửi
        </button>
      
      </form>
      
         <button class="mt-2 btn btn-danger" id="del">
          Xoá
        </button>
      <b id="i"></b>
    
      <div
        class="alert alert-success invisible"
        role="alert"
        id="completed-alert"
      >
        Row Appended!
      </div>
      
    </div>
    
    
    <script src="https://code.jquery.com/jquery-3.7.0.min.js" integrity="sha256-2Pmvv0kuTBOenSvLm6bvfBSSHrUJ+3A7x6P5Ebd07/g=" crossorigin="anonymous"></script>
   <script src="https://cdnjs.cloudflare.com/ajax/libs/Trumbowyg/2.27.3/trumbowyg.min.js" integrity="sha512-YJgZG+6o3xSc0k5wv774GS+W1gx0vuSI/kr0E0UylL/Qg/noNspPtYwHPN9q6n59CTR/uhgXfjDXLTRI+uIryg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
   
  
  
 <script src="https://cdnjs.cloudflare.com/ajax/libs/Trumbowyg/2.27.3/plugins/resizimg/trumbowyg.resizimg.min.js" integrity="sha512-JZOoRxJ64e6kEmiOlPvfvwVHstNxfQkncJUAKUoWfUd20tyGijKV658KH0d2hgmcw0vBPNsGqu/QBs17La+nnA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
 
 
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Trumbowyg/2.27.3/langs/vi.min.js" integrity="sha512-0KgzQCf1+2yr/sf2GyMrV2TaKTXkITq2dA1vmalG6r12YgIM1/HgBmEocIijpB/l6gWuc3Mhrq5QwB0hj6MUPg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Trumbowyg/2.27.3/plugins/base64/trumbowyg.base64.min.js" integrity="sha512-A8j9MYuFLKhqYNm+ZsylHQY7ah/fqP9ll+93vwjpsuqTs+t3mhzmA7yRkeIK0uscOueIzItaAEkrQmOENQPjCw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Trumbowyg/2.27.3/plugins/history/trumbowyg.history.min.js" integrity="sha512-v0d9RCXjipJ+kkx668PzRjCyAnP75ACp7Bj244PObN+zLIYUtC+bfc3xT+vQhcOrwrRvHON9Ji1dEDzVCx7h4w==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Trumbowyg/2.27.3/plugins/noembed/trumbowyg.noembed.min.js" integrity="sha512-nddqNljM+0Sf1ZYdewcP6/xxBH3XXz4m+N4Y57nVgHHePlVWNpXeTMSanARtcFTxHDmajU/huyT0IoPWbc7DOw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

<script>    
 
 
 
$.ajax({
   type: 'GET',
   url: 'https://opensheet.elk.sh/1u-2O6yMLwxTBHGtqCCQJdyhjCJCUnbsdFJHZ8kGRdHc/Web!A1:Z1000',
   dataType: 'json',
   success: function(data) {
     $.each(data.reverse(), function(i, e) {
    
    $('#id-input').val(i+1)
     });
   }
 });
 
 
 
 
  
$('#content-textarea').trumbowyg({
    lang: 'vi',
    autogrow: true,
    linkTargets: ['_blank', '_self'],
    tagClasses: {
        img: 'img-fluid', 
        blockquote: 'blockquote',
        iframe: 'if'
    },
    btns: [
        ['viewHTML'],
         ['formatting'],
         ['bold', 'italic'],
        ['link'],
        ['insertImage'],
        ['base64'],
        ['noembed'],
        ['historyUndo', 'historyRedo'],
        ['justifyLeft', 'justifyCenter', 'justifyRight', 'justifyFull'],
        ['unorderedList', 'orderedList'],
        ['horizontalRule'],
        ['removeformat'],
        ['fullscreen']
    ],
  });

$("#del").click(function() {
$('#content-textarea').trumbowyg('empty');
$('#title-input').val("");

  
});


      const submitButton = document.getElementById("submit"),
        requestCompletedAlert = document.getElementById("completed-alert"),
        form = document.getElementById("sheet-form");

      form.addEventListener("submit", () => {
        submitButton.disabled = true;
        requestCompletedAlert.classList.add("invisible");
      });

      form.addEventListener("ResponseReceived", event => {
        if (event.detail.status === 200) {
          requestCompletedAlert.classList.remove("invisible");
        }
        submitButton.disabled = false;
      });
    </script>
  </body>
</html>
