<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="icon" type="image/svg+xml" href="https://raw.githubusercontent.com/TrungHieuVNTN/x-HNS/master/hi.svg" />
    <title>hieunotes</title>

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300;400;500;700&display=swap" rel="stylesheet">

 <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/6.4.0/mdb.min.css" integrity="sha512-Z1+R2OfJ0a9kp/21IZNhJ5YEOCVRQh/nYktwmhkPF0FoDQH0Ov2wOOwDrlylzJckX6wSJ5VivCURL+JFfLf/xA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
  <link rel="stylesheet" href="light.css" media="(prefers-color-scheme: light)">
  <link rel="stylesheet" href="dark.css" media="(prefers-color-scheme: dark)">
  <script type="module" src="https://googlechromelabs.github.io/dark-mode-toggle/src/dark-mode-toggle.mjs"></script>
  <link rel="stylesheet" href="slider.css" />
  <style>
  .fw-700{
  font-family: 'Open Sans', sans-serif;
  font-weight: 700;
};

.fw-500{
  font-family: 'Open Sans', sans-serif;
  font-weight: 500;
};
.fw-400{
    font-family: 'Open Sans',sans-serif;
    font-weight: 400;
}
.fw-300{
    font-family: 'Open Sans',sans-serif;
    font-weight: 300;
}

  .card {
        margin: 0 auto; /* Added */
        float: none; /* Added */
        margin-bottom: 10px; /* Added */
} 
blockquote {
  background: ;
  border-left: 10px solid;
  margin: 1.5em 10px;
  padding: 0.5em 10px;
  quotes: "\201C""\201D""\2018""\2019";
}
blockquote:before {
  content: open-quote;
  font-size: 4em;
  line-height: 0.1em;
  margin-right: 0.25em;
  vertical-align: -0.4em;
}

img , iframe{
     max-width: 100%;
     width: 100%;
     max-height:100%;
     height:100%;
    }
    </style>
  </head>
  <body>
    
    
<nav class="border-bottom navbar">
  <div class="container-fluid">
    <a class="fw-bold navbar-brand" href="/"><b class="fs-2">hi /hieunotes</b></a>
    <aside>
  <dark-mode-toggle
    id="dark-mode-toggle"
    class="slider"
        appearance="toggle"
  ></dark-mode-toggle>
  </aside>
  </div>
</nav>

<!--- Nội dung--->  
 <div class="container mt-4">
<div class="load mt-3 spinner-border" role="status"><span class="visually-hidden">...</span></div>
 
   <div id="cont" class="mt-5"></div>

   
 <!---- Footer ---->
   <footer class="text-center p-3 fs-6 mt-4">
       <span class="mx-1">
     <a target="_blank" rel="noreferrer" href="https://www.facebook.com/harrydang.03">
         <i class="bi bi-facebook">&#8203</i></a>
         </span>
        <a target="_blank" rel="noreferrer" href="https://m.me/harrydang.03">
         <i class="bi bi-messenger">&#8203</i></a></span>
       <span class="mx-1">
           <a target="_blank" rel="noreferrer" href="mailto: hieunotes@outlook.com">
           <i class="bi bi-google">&#8203</i></a>
        </span>
        <span class="mx-1">
      <a target="_blank" rel="noreferrer" href="https://hieunotes.blogspot.com">
         <i class="bi bi-rss-fill">&#8203</i></a>
</span>
<p class="text-base my-2 fw-400">&copy 2023 hieunotes. All rights reserved <br/>Supported by opensheet.elk.sh & G Sheet</p>
   </footer>
 
     
 </div>
 



<!---- End nội dung ----->
 <!----- Khu vực script ----->
<script src="https://code.jquery.com/jquery-3.7.0.min.js" integrity="sha256-2Pmvv0kuTBOenSvLm6bvfBSSHrUJ+3A7x6P5Ebd07/g=" crossorigin="anonymous"></script>
 <script src="https://cdn.jsdelivr.net/npm/autolinker@4.0.0/dist/autolinker.min.js"></script>
 
 <!----- Script ---->
       <script>
 $('.load').show()

var lastIndex = null;
 
var getUrlParameter = function getUrlParameter(sParam) {
    var sPageURL = window.location.search.substring(1),
        sURLVariables = sPageURL.split('&'),
        sParameterName,
        i;
    for (i = 0; i < sURLVariables.length; i++) {
        sParameterName = sURLVariables[i].split('=');

        if (sParameterName[0] === sParam) {
            return sParameterName[1] === undefined ? true : decodeURIComponent(sParameterName[1]);
          
        }
    }
    return false;
};
var lastIndex = null;

if (!getUrlParameter('id') || !getUrlParameter('id').trim()) {
  $.ajax({ 
    type: 'GET', 
    url: 'https://opensheet.elk.sh/1u-2O6yMLwxTBHGtqCCQJdyhjCJCUnbsdFJHZ8kGRdHc/Web!A1:Z1000', 
    dataType: 'json',
    success: function (data) {
        $.each(data.reverse(), function(index, element) {
          $('.load').hide();
           $('#cont').append('<div class="pt-3"><div class="w-100 p-2 cont"><div class="w-100 "><a href="'+element.link+'?id='+element.id+'" class="text-decoration-none"><h2 class="text-break fw-700">'+element.title+'</h2></a><p class="fw-300 fs-6">'+element.date+' - '+element.author+'</p><div class="mt-3 scroll-section text-break"><div class="fw-400 fs-6">'+Autolinker.link(element.content)+'</div></div></div></div></div>'); 
           
        });
    }
});
  //window.location.replace("/post");
} else {
  var url = 'https://api.steinhq.com/v1/storages/648a5395d27cdd09f0fba213/web?limit=1&offset=' + getUrlParameter('id');
  
  $.ajax({
    type: 'GET',
    url: 'https://opensheet.elk.sh/1u-2O6yMLwxTBHGtqCCQJdyhjCJCUnbsdFJHZ8kGRdHc/Web!A1:Z1000',
    dataType: 'json',
    success: function(data) {
      $.each(data.reverse(), function(i, e) {
        lastIndex = i;

      });

  if (getUrlParameter('id') > lastIndex){  
 $('#cont').text('Có vẻ ID bài viết không tồn tại trong hệ thống? ID bài viết mới nhất là: ' + lastIndex);
 
  } 
  else{
      $.getJSON(url, function(data) {
        var post = data[0];
        var title = post.title;
        var date = post.date;
        var author = post.author;
        var content = post.content;

        var html = '<div class="pt-3"><div class="w-100 p-2 cont"><div class="w-100">';
        html += '<a href="/" class="text-decoration-none"><h2 class="text-break fw-700">' + title + '</h2></a>';
        html += '<p class="fw-300 fs-6">' + date + ' - ' + author + '</p>';
        html += '<div class="mt-3 scroll-section text-break"><div class="fw-400 fs-6">' + Autolinker.link(content) + '</div></div>';
        html += '</div></div></div>';

        $('.load').hide();
        $('#cont').html(html);
      });
    }}
  });
}

    </script>
  </body>
</html>